<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>filter.js test</title>
    </head>
    <body>
        <script language="javascript" type="text/javascript" src="http://closure-library.googlecode.com/svn/trunk/closure/goog/base.js"></script>
        <script language="javascript" type="text/javascript">
            goog.require('goog.object');
            goog.require('goog.string');
            goog.require('goog.array');
        </script>
        <script language="javascript" type="text/javascript" src="./../twig.js"></script>
        <script language="javascript" type="text/javascript" src="markup.js"></script>
        <script language="javascript" type="text/javascript" src="filter.js"></script>
        <script language="javascript" type="text/javascript">
            goog.require('goog.testing.asserts');
            goog.require('goog.testing.jsunit');
            goog.require('goog.testing.FunctionMock');

            function testEscape() {
                assertEquals("&lt;", twig.filter.escape(null, "<", twig.filter.escape.Type.HTML));
                assertEquals("\\xDCberpr\\xFCfung", twig.filter.escape(null, "\u00dcberpr\u00fcfung", twig.filter.escape.Type.JAVASCRIPT));
                assertEquals("~!%40%23%24%25%5E%26*()%3D%2B%5B%5D%7B%7D%5C%3B%3A'%22%2C%2F%3F", twig.filter.escape(null, "~!@#$%^&*()=+[]{}\\;:\'\",/?", twig.filter.escape.Type.URL));
            }
        </script>
    </body>
</html>
