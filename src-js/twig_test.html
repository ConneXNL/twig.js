<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>twig.js test</title>
    </head>
    <body>
        <script language="javascript" type="text/javascript" src="http://closure-library.googlecode.com/svn/trunk/closure/goog/base.js"></script>
        <script language="javascript" type="text/javascript">
            goog.require('goog.object');
            goog.require('goog.string');
            goog.require('goog.array');
        </script>
        <script language="javascript" type="text/javascript" src="./../src-js/twig.js"></script>
        <script language="javascript" type="text/javascript">
            goog.require('goog.testing.asserts');
            goog.require('goog.testing.jsunit');
            goog.require('goog.testing.FunctionMock');

            function testExtends() {
                var a = {foo:"bar"};
                var b = {bar:"baz"};
        	
                assertHashEquals({foo:"bar",bar:"baz"}, twig.extend({}, a, b));
        	
                var target = {};
                assertEquals(target, twig.extend(target));
            }

            function testEmpty() {
                assertTrue(twig.empty(""));
                assertTrue(twig.empty(0));
                assertTrue(twig.empty(false));
                assertTrue(twig.empty(undefined));
                assertTrue(twig.empty([]));
                assertTrue(twig.empty({}));
                assertTrue(twig.empty(null));

                assertFalse(twig.empty("foo"));
                assertFalse(twig.empty(true));
                assertFalse(twig.empty([1]));
                assertFalse(twig.empty({foo:"bar"}));
                assertFalse(twig.empty(1));
            }

            function testPregQuote() {
                assertEquals("\\.", twig.pregQuote("."));
                assertEquals("\\\\", twig.pregQuote("\\"));
                assertEquals("\\+", twig.pregQuote("+"));
                assertEquals("\\*", twig.pregQuote("*"));
                assertEquals("\\?", twig.pregQuote("?"));
                assertEquals("\\[", twig.pregQuote("["));
                assertEquals("\\]", twig.pregQuote("]"));
                assertEquals("\\^", twig.pregQuote("^"));
                assertEquals("\\$", twig.pregQuote("$"));
                assertEquals("\\(", twig.pregQuote("("));
                assertEquals("\\)", twig.pregQuote(")"));
                assertEquals("\\{", twig.pregQuote("{"));
                assertEquals("\\}", twig.pregQuote("}"));
                assertEquals("\\=", twig.pregQuote("="));
                assertEquals("\\!", twig.pregQuote("!"));
                assertEquals("\\<", twig.pregQuote("<"));
                assertEquals("\\>", twig.pregQuote(">"));
                assertEquals("\\|", twig.pregQuote("|"));
                assertEquals("\\:", twig.pregQuote(":"));
                assertEquals("\\-", twig.pregQuote("-"));
            }
        </script>
    </body>
</html>
